<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Photopea Embed with Hide Ads Link</title>
  <style>
    html, body {
      margin: 0; padding: 0; height: 100%;
      background-color: #111;
      display: flex; flex-direction: column; align-items: center;
      font-family: Arial, sans-serif;
      color: white;
    }
    #photopea-iframe {
      flex-grow: 1;
      width: 100%;
      border: none;
      min-height: 600px;
    }
    #hide-ads-container {
      margin: 12px 0;
      font-size: 1.1em;
      user-select: none;
      cursor: pointer;
    }
    a.extension-link {
      color: #48a9f8;
      text-decoration: underline;
      margin-left: 6px;
    }
  </style>
</head>
<body>

  <iframe 
    id="photopea-iframe"
    src="https://www.photopea.com" 
    allow="fullscreen"
  ></iframe>

  <label id="hide-ads-container">
    <input type="checkbox" id="hide-ads-checkbox" />
    Hide Ads
  </label>

  <script>
    function getBrowser() {
      let userAgent = navigator.userAgent;

      if (userAgent.includes("Firefox")) {
        return "Firefox";
      } else if (userAgent.includes("Chrome") && !userAgent.includes("Edg") && !userAgent.includes("OPR")) {
        return "Chrome";
      } else {
        return "Other";
      }
    }

    const hideAdsCheckbox = document.getElementById("hide-ads-checkbox");

    hideAdsCheckbox.addEventListener("change", () => {
      if (hideAdsCheckbox.checked) {
        const browser = getBrowser();

        if (browser === "Firefox") {
          const url = "https://addons.mozilla.org/en-US/firefox/addon/remove-ads-from-photopea/";
          window.open(url, "_blank");
          alert("You are running Firefox. Opening the recommended extension to hide ads.");
        } else if (browser === "Chrome") {
          const url = "https://chrome.google.com/webstore/detail/remove-ads-from-photopea/gjkjjhgjcalgefcimahpbacihndicccn";
          window.open(url, "_blank");
          alert("You are running Chrome. Opening the recommended extension to hide ads.");
        } else {
          alert("Sorry, your browser is not detected as Firefox or Chrome. Please visit the extension sites manually.");
        }

        // Uncheck checkbox after action
        hideAdsCheckbox.checked = false;
      }
    });
  </script>

</body>
</html>
